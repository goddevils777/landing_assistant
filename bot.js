const TelegramBot = require('node-telegram-bot-api');
require('dotenv').config();

const bot = new TelegramBot(process.env.TELEGRAM_BOT_TOKEN, { polling: true });

// –•—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π
const users = new Map();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
bot.onText(/\/start/, (msg) => {
    const chatId = msg.chat.id;
    const userId = msg.from.id;

    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º
    const keyboard = {
        reply_markup: {
            inline_keyboard: [
                [
                    {
                        text: 'üìö –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —É—Ä–æ–∫',
                        callback_data: 'free_lesson'
                    }
                ],
                [
                    {
                        text: 'üëã –ü—Ä–æ –º–µ–Ω–µ —Ç–∞ –ø—ñ–¥–±—ñ—Ä –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞',
                        callback_data: 'about_me'
                    }
                ]
            ]
        }
    };

    bot.sendMessage(chatId, `–ü—Ä–∏–≤—ñ—Ç! üëã 
    
–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –Ω–∞ –∫—É—Ä—Å "–ê—Å–∏—Å—Ç–µ–Ω—Ç –ö–µ—Ä—ñ–≤–Ω–∏–∫–∞" –≤—ñ–¥ –î–∞—Ä—ñ—ó –ö–ª–∏–º–µ–Ω–∫–æ!

–û–±–µ—Ä—ñ—Ç—å —â–æ –≤–∞—Å —Ü—ñ–∫–∞–≤–∏—Ç—å:`, keyboard);

    users.set(userId, { chatId: chatId, state: 'start' });
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
bot.on('callback_query', (query) => {
    const chatId = query.message.chat.id;
    const userId = query.from.id;
    const data = query.data;

    bot.answerCallbackQuery(query.id);

    if (data === 'free_lesson') {
        startFreeLessonScenario(chatId, userId);
    } else if (data === 'about_me') {
        startAboutMeScenario(chatId, userId);
    } else if (data === 'ready_assistant') {
        sendPaymentOffer(chatId, userId);
    }
});

// –°—Ü–µ–Ω–∞—Ä–∏–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ —É—Ä–æ–∫–∞
function startFreeLessonScenario(chatId, userId) {
    users.set(userId, { chatId: chatId, state: 'lesson' });

    // 1. –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É—Ä–æ–∫–∞
    setTimeout(() => {
        bot.sendMessage(chatId, 'üìö *–£—Ä–æ–∫ 1: –†–æ–ª—å –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ –±—ñ–∑–Ω–µ—Å—ñ*', { parse_mode: 'Markdown' });
    }, 1000);

    // 2. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —É—Ä–æ–∫–∞
    setTimeout(() => {
        const lessonContent = `üîπ *–£–ø—Ä–∞–≤–ª—è—î —á–∞—Å–æ–º* ‚Äî –ø–ª–∞–Ω—É—î –∑—É—Å—Ç—Ä—ñ—á—ñ, –∫–æ–Ω—Ç—Ä–æ–ª—é—î –¥–µ–¥–ª–∞–π–Ω–∏
üîπ *–§—ñ–ª—å—Ç—Ä—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é* ‚Äî –≤–∏–∑–Ω–∞—á–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏, –≥–æ—Ç—É—î —Ä–µ–∑—é–º–µ  
üîπ *–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –∫–æ–º–ø–∞–Ω—ñ—é* ‚Äî –≤–µ–¥–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∏ –≤—ñ–¥ —ñ–º–µ–Ω—ñ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞
üîπ *–í–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º–∏* ‚Äî –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —Ä—ñ—à–µ–Ω–Ω—è –¥–æ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∏–º–∏

üí° *–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è:*
–°–∫–ª–∞–¥—ñ—Ç—å —ñ–¥–µ–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥ –¥–Ω—è –¥–ª—è –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞ IT-–∫–æ–º–ø–∞–Ω—ñ—ó, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏:
- 3 –≤–∞–∂–ª–∏–≤—ñ –∑—É—Å—Ç—Ä—ñ—á—ñ  
- –ß–∞—Å –Ω–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –ø–æ—à—Ç—É
- –û–±—ñ–¥–Ω—é –ø–µ—Ä–µ—Ä–≤—É
- –ß–∞—Å –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ–≥–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è`;

        bot.sendMessage(chatId, lessonContent, { parse_mode: 'Markdown' });
    }, 2000);

    // 3. –°–æ–æ–±—â–µ–Ω–∏–µ –æ –≤–∏–¥–µ–æ
    setTimeout(() => {
        bot.sendMessage(chatId, 'üìπ *–í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –≤—ñ–¥–µ–æ —É—Ä–æ–∫*', { parse_mode: 'Markdown' });
    }, 3000);

    // 4. –í–∏–¥–µ–æ
    setTimeout(() => {
        bot.sendVideo(chatId, './video/1less.mp4', {
            caption: ''
        }).catch(error => {
            console.error('Error sending video:', error);
            bot.sendMessage(chatId, 'üìπ –í—ñ–¥–µ–æ —É—Ä–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º');
        });
    }, 4000);

    // 5. –ö–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤—ñ —Å—Ç–∞—Ç–∏ –∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º"
    setTimeout(() => {
        const readyKeyboard = {
            reply_markup: {
                inline_keyboard: [
                    [
                        {
                            text: 'üéì –ì–æ—Ç–æ–≤—ñ —Å—Ç–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–º –∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º?',
                            callback_data: 'ready_assistant'
                        }
                    ]
                ]
            }
        };

        bot.sendMessage(chatId, '–°–ø–æ–¥–æ–±–∞–≤—Å—è —É—Ä–æ–∫?', readyKeyboard);
    }, 5000);
}

// –°—Ü–µ–Ω–∞—Ä–∏–π "–ü—Ä–æ –º–µ–Ω–µ"
function startAboutMeScenario(chatId, userId) {
    users.set(userId, { chatId: chatId, state: 'about_me' });

    // 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    bot.sendMessage(chatId, '–í—ñ—Ç–∞–Ω–Ω—è! üëã');

    // 2. –í–∏–¥–µ–æ –∫—Ä—É–∂–æ–∫
    setTimeout(() => {
        bot.sendVideoNote(chatId, './video/hello.mp4').catch(error => {
            console.error('Error sending video note:', error);
            bot.sendMessage(chatId, 'üìπ –í—ñ–¥–µ–æ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º');
        });
    }, 1000);

    // 3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–æ –º–Ω–µ
    setTimeout(() => {
        bot.sendMessage(chatId, `*–ö–ª–∏–º–µ–Ω–∫–æ –î–∞—Ä—ñ—è* üë©‚Äçüíº

–ú–æ—è –∫–æ–º–∞–Ω–¥–∞ –º–∞—î –¥–æ—Å–≤—ñ–¥ –≤ –ø—ñ–¥–±–æ—Ä—ñ –∫—Ä–∞—â–∏—Ö –∞—Å–∏—Å—Ç–µ–Ω—Ç—ñ–≤ –≤–∂–µ 5 —Ä–æ–∫—ñ–≤ üîù`, { parse_mode: 'Markdown' });
    }, 2000);

    // 4. –§–æ—Ç–æ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
    setTimeout(() => {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–æ—Ç–æ)
        bot.sendPhoto(chatId, './images/people.png', {
            caption: '*–î–µ–ª–µ–≥—É–π—Ç–µ —Å–≤–æ—ó –∑–∞–¥–∞—á—ñ –∫—Ä–∞—â–æ–º—É –∞—Å–∏—Å—Ç–µ–Ω—Ç—É —Ç–∞ —Ä–æ–∑–≤–∏–≤–∞–π—Ç–µ –í–∞—à –±—ñ–∑–Ω–µ—Å –±–µ–∑ –∑–∞–π–≤–∏—Ö —Ç—É—Ä–±–æ—Ç!* üöÄ',
            parse_mode: 'Markdown'
        }).catch(error => {
            console.error('Error sending photo:', error);
            bot.sendMessage(chatId, '*–î–µ–ª–µ–≥—É–π—Ç–µ —Å–≤–æ—ó –∑–∞–¥–∞—á—ñ –∫—Ä–∞—â–æ–º—É –∞—Å–∏—Å—Ç–µ–Ω—Ç—É —Ç–∞ —Ä–æ–∑–≤–∏–≤–∞–π—Ç–µ –í–∞—à –±—ñ–∑–Ω–µ—Å –±–µ–∑ –∑–∞–π–≤–∏—Ö —Ç—É—Ä–±–æ—Ç!* üöÄ', { parse_mode: 'Markdown' });
        });
    }, 3000);

    // 5. –§–æ—Ä–º–∞ —Å–≤—è–∑–∏
    setTimeout(() => {
        bot.sendMessage(chatId, `üìù *–§–æ—Ä–º–∞ –∑–≤'—è–∑–∫—É*

–ó–∞–ª–∏—à—Ç–µ —Å–≤–æ—ó –∫–æ–Ω—Ç–∞–∫—Ç–∏ —ñ –º–∏ –∑–≤'—è–∂–µ–º–æ—Å—å –∑ –í–∞–º–∏:

–ù–∞–ø–∏—à—ñ—Ç—å —É —Ñ–æ—Ä–º–∞—Ç—ñ:
üë§ –Ü–º'—è:
üì± –¢–µ–ª–µ—Ñ–æ–Ω/Telegram:
üí¨ –Ø–∫ –∑—Ä—É—á–Ω—ñ—à–µ –∑–≤'—è–∑–∞—Ç–∏—Å—å:`, { parse_mode: 'Markdown' });
    }, 4000);
}

// –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ
const paymentOffer = `üéì *–ì–æ—Ç–æ–≤—ñ —Å—Ç–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–º –∞—Å–∏—Å—Ç–µ–Ω—Ç–æ–º?*

–û–±–µ—Ä—ñ—Ç—å –Ω–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è —Å–µ–±–µ:

üìö *–ö–£–†–° "–ê–°–ò–°–¢–ï–ù–¢ –ö–ï–†–Ü–í–ù–ò–ö–ê"* - 250$
- 7 –º–æ–¥—É–ª—ñ–≤ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏
- –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –ø—Ä–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó –∑ –î–∞—Ä—ñ—î—é
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø—Ä–æ—Ç—è–≥–æ–º 3 –º—ñ—Å—è—Ü—ñ–≤

üéØ *–ü–Ü–î–ë–Ü–† –ê–°–ò–°–¢–ï–ù–¢–ê –ó –ì–ê–†–ê–ù–¢–Ü–Ñ–Æ* - 350$
- –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –≤—ñ–¥–±—ñ—Ä –∫–∞–Ω–¥–∏–¥–∞—Ç—ñ–≤
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å–≤—ñ–¥—É —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π
- –ì–∞—Ä–∞–Ω—Ç—ñ—è –∑–∞–º—ñ–Ω–∏ –ø—Ä–æ—Ç—è–≥–æ–º –º—ñ—Å—è—Ü—è
- –°—É–ø—Ä–æ–≤—ñ–¥ –Ω–∞ –ø–µ—Ä—à—ñ —Ç–∏–∂–Ω—ñ —Ä–æ–±–æ—Ç–∏

üíº *–ö–ê–†'–Ñ–†–ù–ê –ö–û–ù–°–£–õ–¨–¢–ê–¶–Ü–Ø* - 50$
- –ê–Ω–∞–ª—ñ–∑ –≤–∞—à–æ–≥–æ —Ä–µ–∑—é–º–µ
- –ü–æ—Ä–∞–¥–∏ —â–æ–¥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –∫–∞—Ä'—î—Ä–∏
- –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è
- –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –ø–æ—à—É–∫—É —Ä–æ–±–æ—Ç–∏

üí∞ *–£—Å—ñ —Ü—ñ–Ω–∏ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—ñ, –±–µ–∑ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –ø–ª–∞—Ç–µ–∂—ñ–≤*`;

function sendPaymentOffer(chatId, userId) {
    const keyboard = {
        inline_keyboard: [
            [
                {
                    text: 'üìö –ö—É—Ä—Å - 250$',
                    url: 'https://revolut.me/dariiapcx7/usd250/–∫—É—Ä—Å-–∞—Å–∏—Å—Ç–µ–Ω—Ç-–∫–µ—Ä—ñ–≤–Ω–∏–∫–∞'
                }
            ],
            [
                {
                    text: 'üéØ –ü—ñ–¥–±—ñ—Ä –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∑ –≥–∞—Ä–∞–Ω—Ç—ñ—î—é - 350$',
                    url: 'https://revolut.me/dariiapcx7/usd350/–ø—ñ–¥–±—ñ—Ä-–∞—Å–∏—Å—Ç–µ–Ω—Ç–∞-–≥–∞—Ä–∞–Ω—Ç—ñ—è'
                }
            ],
            [
                {
                    text: 'üíº –ö–∞—Ä\'—î—Ä–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è - 50$',
                    url: 'https://revolut.me/dariiapcx7/usd50/–∫–∞—Ä—î—Ä–Ω–∞-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è'
                }
            ],
            [
                {
                    text: 'üìû –ó–≤\'—è–∑–∞—Ç–∏—Å—å –∑ –î–∞—Ä—ñ—î—é',
                    url: 'https://t.me/klymenkodariia'
                }
            ]
        ]
    };

    bot.sendMessage(chatId, paymentOffer, {
        parse_mode: 'Markdown',
        reply_markup: keyboard
    });
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
bot.on('message', (msg) => {
    const chatId = msg.chat.id;
    const userId = msg.from.id;

    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
    if (msg.text && msg.text.startsWith('/')) return;

    const user = users.get(userId);

    if (user && user.state === 'lesson') {
        // –û—Ç–≤–µ—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏–∑ —É—Ä–æ–∫–∞
        if (msg.text && msg.text.length > 50) {
            bot.sendMessage(chatId, `–î—è–∫—É—é –∑–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è! üëè

–í–∞—à –ø—ñ–¥—Ö—ñ–¥ –¥–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è –æ—Å–Ω–æ–≤ —Ä–æ–±–æ—Ç–∏ –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞.

–©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑–±—ñ—Ä –≤–∞—à–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è, –ø–µ—Ä–µ—Ö–æ–¥—å—Ç–µ –¥–æ –ø–æ–≤–Ω–æ–≥–æ –∫—É—Ä—Å—É! üöÄ`);
        }
    } else if (user && user.state === 'about_me') {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã —Å–≤—è–∑–∏
        if (msg.text && msg.text.length > 10) {
            bot.sendMessage(chatId, `–î—è–∫—É—é –∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∏! üìù

–ú–∏ –∑–≤'—è–∂–µ–º–æ—Å—å –∑ –í–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–±–æ—Ä—É —ñ–¥–µ–∞–ª—å–Ω–æ–≥–æ –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –í–∞—à–æ–≥–æ –±—ñ–∑–Ω–µ—Å—É.

–û—á—ñ–∫—É–π—Ç–µ –¥–∑–≤—ñ–Ω–æ–∫ –ø—Ä–æ—Ç—è–≥–æ–º 24 –≥–æ–¥–∏–Ω! üìû`);

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞—è–≤–∫—É –∞–¥–º–∏–Ω—É
            const adminMessage = `üîî –ù–û–í–ê –ó–ê–Ø–í–ö–ê: –ü–Ü–î–ë–Ü–† –ê–°–ò–°–¢–ï–ù–¢–ê

üë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: @${msg.from.username || '–Ω–µ–≤—ñ–¥–æ–º–æ'}
üÜî ID: ${msg.from.id}
üìù –ö–æ–Ω—Ç–∞–∫—Ç–∏:
${msg.text}

üïí ${new Date().toLocaleString('uk-UA')}`;

            bot.sendMessage(process.env.TELEGRAM_CHAT_ID, adminMessage).catch(error => {
                console.error('Error sending to admin:', error);
            });

            console.log('–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–¥–±–æ—Ä –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω—É');
        }
    }
});

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–µ–Ω—é
bot.setMyCommands([
    { command: 'start', description: 'üè† –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é' },
    { command: 'lesson', description: 'üìö –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —É—Ä–æ–∫' },
    { command: 'about', description: 'üëã –ü—Ä–æ –º–µ–Ω–µ —Ç–∞ –ø—ñ–¥–±—ñ—Ä' }
]);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
bot.onText(/\/lesson/, (msg) => {
    const chatId = msg.chat.id;
    const userId = msg.from.id;
    startFreeLessonScenario(chatId, userId);
});

bot.onText(/\/about/, (msg) => {
    const chatId = msg.chat.id;
    const userId = msg.from.id;
    startAboutMeScenario(chatId, userId);
});

console.log('ü§ñ Telegram bot started');